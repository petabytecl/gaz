# Phase 14.1: Cleanup Deprecated Re-exports - Context

**Gathered:** 2026-01-28
**Status:** Ready for planning

<domain>
## Phase Boundary

Finalize the root `gaz` package API surface. Remove backward compatibility re-exports that are marked deprecated, keep only the APIs we plan to maintain long-term. Users who need subpackage functionality will import `gaz/di`, `gaz/config`, or `gaz/worker` directly.

</domain>

<decisions>
## Implementation Decisions

### DI API Surface
- **Keep** `gaz.For[T]()` — primary registration API stays at root level
- **Keep** `gaz.Resolve[T]()` and `gaz.MustResolve[T]()` — resolution stays convenient
- **Keep** `gaz.Has[T]()` and `gaz.Named()` — query utilities stay at root
- **Keep** `gaz.Container` type alias — users can use `gaz.Container` or `di.Container`
- Remove `gaz.NewContainer()` deprecation marker since we're keeping it (or delegate to `di.New()`)

### Worker API Surface
- **Keep** `gaz.Worker` interface alias — convenient for implementing workers
- **Don't re-export** worker options (WithPoolSize, WithCritical, etc.) — users import `gaz/worker` for these
- **Don't re-export** `worker.Manager` — internal to App lifecycle

### Config API Surface
- **Remove all** deprecated config option re-exports:
  - `gaz.ConfigOption`, `gaz.WithName`, `gaz.WithType`
  - `gaz.WithEnvPrefix`, `gaz.WithSearchPaths`
  - `gaz.WithProfileEnv`, `gaz.WithDefaults`
- **Remove** `gaz.Defaulter` and `gaz.Validator` type aliases — users import `gaz/config` directly
- Delete `options.go` and `config.go` files entirely

### Error Handling
- **Keep** gaz-native errors: `gaz.ErrDuplicateModule`, `gaz.ErrConfigKeyCollision`
- **Remove** `gaz.ErrConfigValidation` alias — users check `config.ErrConfigValidation`
- **Claude's Discretion:** Whether to keep DI error aliases (`gaz.ErrNotFound`, `gaz.ErrCycle`, etc.) — decide based on Go conventions and ergonomics

### Claude's Discretion
- DI error alias decision (keep vs remove `gaz.ErrNotFound`, `gaz.ErrCycle`, `gaz.ErrDuplicate`, `gaz.ErrNotSettable`, `gaz.ErrTypeMismatch`, `gaz.ErrAlreadyBuilt`, `gaz.ErrInvalidProvider`)
- Whether `gaz.TypeName[T]()` and `gaz.typeName()` should stay or be removed
- Whether `gaz.RegistrationBuilder`, `gaz.ResolveOption`, `gaz.ServiceWrapper` type aliases should stay

</decisions>

<specifics>
## Specific Ideas

- Philosophy: root `gaz` package provides the "convenient surface" for building apps, subpackages (`di`, `config`, `worker`) provide the full API for advanced/standalone use
- Pattern: if you're implementing something (Worker, Defaulter), import the subpackage; if you're just using the framework (For, Resolve), root package suffices
- No half-measures: deprecated means deprecated, remove it cleanly

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 14.1-cleanup-deprecated-re-exports*
*Context gathered: 2026-01-28*
