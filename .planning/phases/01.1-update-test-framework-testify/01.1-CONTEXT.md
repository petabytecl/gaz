# Phase 1.1: Update Test Framework for Testify - Context

**Gathered:** 2026-01-26
**Status:** Ready for planning

<domain>
## Phase Boundary

Migrate existing test assertions to use testify library (stretchr/testify). All ~870 lines of tests across 6 test files will be updated from stdlib assertion patterns to testify assertions and suites.

</domain>

<decisions>
## Implementation Decisions

### Assertion style
- Use mixed require + assert approach
- `require` for critical path assertions — anything that would make further assertions meaningless
- `assert` for value checks that don't block subsequent assertions
- Include custom message strings only when helpful (when assertion values alone don't make failure obvious)
- Prefer specific assertions (NotNil, Contains, True/False, Len, ErrorIs) over generic Equal for better failure messages

### Import conventions
- Standard imports (no dot imports, no custom aliases)
- `import "github.com/stretchr/testify/assert"` and `import "github.com/stretchr/testify/require"`
- Import both packages where a file needs both
- Follow testify convention: `assert.Equal(t, expected, actual)`
- Standard goimports grouping (stdlib, external, local)

### Test structure
- Adopt testify suite.Suite pattern
- Organize suites by concern (related tests grouped together)
- Domain-based suite names: ContainerSuite, InjectionSuite, RegistrationSuite, ResolutionSuite, ServiceSuite, TypesSuite
- Use SetupTest() to create fresh Container before each test method

### Claude's Discretion
- Exact test method names within suites
- How to handle helper types (keep inline or move to test helpers)
- Whether to add TeardownTest() methods if useful

</decisions>

<specifics>
## Specific Ideas

No specific requirements — standard testify patterns apply.

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope.

</deferred>

---

*Phase: 01.1-update-test-framework-testify*
*Context gathered: 2026-01-26*
