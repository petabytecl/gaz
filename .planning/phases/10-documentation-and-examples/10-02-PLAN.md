---
phase: 10-documentation-and-examples
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/getting-started.md
  - docs/concepts.md
  - docs/configuration.md
  - docs/validation.md
  - docs/advanced.md
autonomous: true

must_haves:
  truths:
    - "User can build first app following getting-started guide"
    - "User understands DI concepts (scopes, lifecycle) from concepts.md"
    - "User can configure apps with config files and env vars"
    - "User can add validation to config structs"
    - "User can organize code into modules and integrate Cobra"
  artifacts:
    - path: "docs/getting-started.md"
      provides: "Step-by-step first app guide"
      contains: "go run"
    - path: "docs/concepts.md"
      provides: "DI fundamentals explanation"
      contains: "Singleton"
    - path: "docs/configuration.md"
      provides: "Config system documentation"
      contains: "ConfigManager"
    - path: "docs/validation.md"
      provides: "Validation documentation"
      contains: "validate"
    - path: "docs/advanced.md"
      provides: "Modules, testing, Cobra docs"
      contains: "Module"
  key_links:
    - from: "docs/getting-started.md"
      to: "docs/concepts.md"
      via: "cross-reference link"
      pattern: "concepts.md"
---

<objective>
Create documentation guides in docs/ folder covering all major features.

Purpose: Provide learning journey from first app to advanced patterns.
Output: 5 markdown files in docs/ covering getting-started, concepts, configuration, validation, and advanced topics.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/10-documentation-and-examples/10-CONTEXT.md
@.planning/phases/10-documentation-and-examples/10-RESEARCH.md

# Key source files
@app.go
@container.go
@registration.go
@lifecycle.go
@config_manager.go
@validation.go
@provider_config.go
@app_module.go
@cobra.go
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create docs/getting-started.md and docs/concepts.md</name>
  <files>docs/getting-started.md, docs/concepts.md</files>
  <action>
Create docs/ directory and two foundation docs:

**docs/getting-started.md:**
Step-by-step guide to first gaz application.

Sections:
1. **Prerequisites** - Go 1.25+, go get command
2. **Create a project** - mkdir, go mod init
3. **Write main.go** - Complete working example with:
   - Service struct with OnStart/OnStop
   - gaz.New() + ProvideSingleton
   - app.Build() + app.Run()
4. **Run it** - go run, expected output
5. **What happened** - Explain the lifecycle: Build resolves, Run calls OnStart, signal triggers OnStop
6. **Next steps** - Links to concepts.md, configuration.md

**docs/concepts.md:**
DI fundamentals for Go experts who are DI newcomers.

Sections:
1. **Dependency Injection** - Brief explanation of inversion of control, why it matters (testability, flexibility)
2. **The Container** - What it holds, how it resolves dependencies
3. **Providers** - Factory functions that create services
4. **Service Scopes**:
   - Singleton: One instance, default scope
   - Transient: New instance every resolution
   - Eager: Singleton created at Build time
   - Code examples for each using For[T]().Singleton(), .Transient(), .Eager()
5. **Lifecycle** - OnStart/OnStop interfaces, startup/shutdown order, layers
6. **Resolution** - How gaz.Resolve[T]() works, automatic dependency resolution
7. **App vs Container** - When to use each (App for applications, Container for libraries/testing)

**Writing style:** Terse, technical. Inline code snippets, not links. Target Go experts.
  </action>
  <verify>ls docs/ && cat docs/getting-started.md | head -40</verify>
  <done>docs/getting-started.md and docs/concepts.md exist with complete content</done>
</task>

<task type="auto">
  <name>Task 2: Create configuration, validation, and advanced docs</name>
  <files>docs/configuration.md, docs/validation.md, docs/advanced.md</files>
  <action>
**docs/configuration.md:**
Configuration loading and management.

Sections:
1. **Config Structs** - Define config as Go struct with mapstructure tags
2. **Loading Config** - ConfigManager, WithSearchPaths, WithName, file formats (yaml, json, toml)
3. **Environment Variables** - WithEnvPrefix, automatic translation (app.port -> APP_PORT)
4. **Profiles** - Development vs production config, WithProfileEnv
5. **Defaults** - WithDefaults, Defaulter interface
6. **Injecting Config** - Register config as singleton for DI resolution
7. **Provider Config** - ConfigProvider interface, namespaced flags, ProviderValues

Include working code examples for each section.

**docs/validation.md:**
Config validation with struct tags.

Sections:
1. **Validation Tags** - Using `validate` tags from go-playground/validator
2. **Common Validators** - required, min, max, email, url, oneof
3. **Cross-field Validation** - required_if, required_unless, eqfield
4. **Nested Structs** - dive for slices, struct validation
5. **Custom Validators** - Implementing Validator interface
6. **Error Messages** - How validation errors are formatted and displayed
7. **Startup Behavior** - App exits immediately if validation fails

**docs/advanced.md:**
Advanced patterns and integrations.

Sections:
1. **Modules** - Grouping providers with Module interface, app.UseModule()
2. **Testing** - Creating test containers, mocking dependencies, isolated test scopes
3. **Cobra Integration** - WithCobra, flag binding, root command, subcommands
4. **Health Checks** - health.Module(), registering checkers, HTTP server
5. **Graceful Shutdown** - Timeout configuration, double-SIGINT, blame logging
6. **Best Practices** - Constructor injection patterns, avoiding service locator

**Writing style:** Terse, technical. Complete code examples for each pattern.
  </action>
  <verify>ls docs/*.md && wc -l docs/*.md</verify>
  <done>All 5 docs files exist with comprehensive content</done>
</task>

</tasks>

<verification>
```bash
# All docs exist
ls docs/getting-started.md docs/concepts.md docs/configuration.md docs/validation.md docs/advanced.md

# Each doc has meaningful content (at least 50 lines)
for f in docs/*.md; do
  lines=$(wc -l < "$f")
  [ "$lines" -ge 50 ] && echo "$f: OK ($lines lines)" || echo "$f: TOO SHORT"
done

# Check for inline code examples
grep -l '```go' docs/*.md | wc -l  # Should be 5
```
</verification>

<success_criteria>
1. docs/ directory contains all 5 markdown files
2. Each file has at least 50 lines of content
3. All files contain Go code examples (fenced with ```go)
4. Cross-references between docs work (relative links)
5. Content covers all major gaz features per requirements
</success_criteria>

<output>
After completion, create `.planning/phases/10-documentation-and-examples/10-02-SUMMARY.md`
</output>
